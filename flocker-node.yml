flocker-dataset-agent:
  image: 172.16.1.41:5000/stefan/transwarp-flocker:test
  command: bootstrap.sh flocker-dataset-agent
  net: "host"
  privileged: true
  devices:
    - /dev/zfs:/dev/zfs
  volumes:
    - /var/run/docker.sock:/var/run/docker.sock
    - /flocker/:/flocker/:shared
    - /etc/flocker/:/etc/flocker/
  environment:
    - DEBUG=1
    - FLOKCER_OPTS=""

flocker-sshd:
  image: 172.16.1.41:5000/stefan/transwarp-flocker:test
  command: /usr/sbin/sshd -D
  net: "host"
  privileged: true
  devices:
    - /dev/zfs:/dev/zfs
  volumes:
    - /var/run/docker.sock:/var/run/docker.sock
    - /flocker/:/flocker/:shared
    - /etc/flocker/:/etc/flocker/
  environment:
    - DEBUG=1
    - FLOKCER_OPTS=""

flocker-container-agent:
  image: 172.16.1.41:5000/stefan/transwarp-flocker:test
  command: bootstrap.sh flocker-container-agent
  net: "host"
  privileged: true
  volumes:
    - /var/run/docker.sock:/var/run/docker.sock
    - /flocker/:/flocker/:shared
    - /etc/flocker/:/etc/flocker/
  environment:
    - DEBUG=1
    - FLOKCER_OPTS=""

flocker-docker-plugin:
  image: 172.16.1.41:5000/stefan/transwarp-flocker:test
  command: bootstrap.sh flocker-docker-plugin
  net: "host"
  privileged: true
  volumes:
    - /var/run/docker.sock:/var/run/docker.sock
    - /run/docker/plugins/flocker/:/var/run/docker/plugins/flocker/
    - /flocker/:/flocker/:shared
    - /etc/flocker/:/etc/flocker/
    - /var/run/docker:/var/run/docker
  environment:
    - DEBUG=1
    - FLOKCER_OPTS=""
